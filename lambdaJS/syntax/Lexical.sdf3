module Lexical

lexical syntax
// x is defined as ID
  ID             = [a-zA-Z\_\$] [a-zA-Z0-9\_\$]* 

  C				 = INT | BOOLEAN | UNDEFINED | NULL | STRING
  INT            = "-"? [0-9]+ 
  BOOLEAN		 = "true" | "false"
  UNDEFINED		 = "undefined"
  NULL			 = "null"
  
  //TODO?: string correct?
  STRING         = "\"" StringChar* "\"" 
  StringChar     = ~[\"\n] 
  StringChar     = "\\\"" 
  StringChar     = BackSlashChar 
  BackSlashChar  = "\\" 
  
  LAYOUT         = [\ \t\n\r] 
  
  //TODO?: comments correct?
  CommentChar    = [\*] 
  LAYOUT         = "/*" InsideComment* "*/" 
  InsideComment  = ~[\*] 
  InsideComment  = CommentChar 
  
  LAYOUT         = "//" ~[\n\r]* NewLineEOF 
  NewLineEOF     = [\n\r] 
  NewLineEOF     = EOF 
  EOF            =  
  
  //Check for reserved values
  ID = KEYWORD {reject}
	KEYWORD = "false"
	KEYWORD = "true"
	
	KEYWORD = "let"
	KEYWORD = "func"
	KEYWORD = "return"
	
	KEYWORD = "delete"
	
	KEYWORD = "ref"
	KEYWORD = "deref"

lexical restrictions

  // Ensure greedy matching for lexicals
  
  CommentChar   -/- [\/]
  INT           -/- [0-9]
  ID            -/- [a-zA-Z0-9\_\$]
  
  // EOF may not be followed by any char
  
  EOF           -/- ~[]
  
  // Backslash chars in strings may not be followed by " 
  
  BackSlashChar -/- [\"]

  
  